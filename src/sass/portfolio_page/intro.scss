@use 'sass:map';

@keyframes revealText {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.portfolio-intro {
  display: flex;
  flex-direction: column;
  min-height: calc(100svh - $header-height - 4em); /* Allow featured projects to peek at bottom */
  align-items: flex-start;
  justify-content: center;
  padding: 2em 0;
  padding-bottom: 0;

  .portfolio-intro-left {
    display: flex;
    flex-direction: column;
    gap: 0.5em;
    width: 100%;
    max-width: 100%;

    .intro-name-section {
      display: flex;
      flex-direction: column;
      gap: 0.3em;
      opacity: 0;
      transform: translateY(20px);
      animation: revealText 0.8s cubic-bezier(0.2, 0.9, 0.2, 1) forwards;
    }

    .intro-name-line {
      font-size: clamp(2.5rem, 10vw, 5.5rem);
      font-weight: 500;
      line-height: 1.15;
      margin: 0;
      letter-spacing: 0.02em;
      display: flex;
      align-items: baseline;
      white-space: nowrap;

      @media (max-width: 480px) {
        font-size: clamp(2.3rem, 10.5vw, 3.2rem);
        letter-spacing: 0.015em;
      }

      .intro-name {
        color: rgb(0 0 0 / 85%); /* High contrast for readability */
        font-weight: 500;
        font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        letter-spacing: 0.03em;
      }
    }

    .intro-role-line {
      font-size: clamp(2.5rem, 10vw, 5.5rem);
      font-weight: 500;
      line-height: 1.15;
      margin: 0;
      letter-spacing: 0.08em;
      display: flex;
      align-items: baseline;
      white-space: nowrap;

      @media (max-width: 480px) {
        font-size: clamp(2.5rem, 11vw, 3.5rem);
        letter-spacing: 0.05em;
        display: block;
        white-space: normal;
        max-width: 100%;
        overflow-wrap: break-word;
      }

      .intro-role {
        color: rgb(0 0 0 / 85%); /* High contrast for readability */ /* Base color, will be filled with accent via scroll animation */
        font-weight: 500;
        font-style: normal;
        font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        text-transform: uppercase;
        font-size: 0.9em;
        display: inline-block;
        white-space: nowrap;

        @media (max-width: 480px) {
          font-size: 1.1em;
          letter-spacing: 0.04em;
          display: block;
          width: 100%;
          max-width: 100%;
          white-space: normal;
          word-break: break-word;
          overflow-wrap: break-word;
        }
      }
    }

    .intro-location-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4em;
      padding: 0.45em 0.9em;
      border: 0.5px solid rgb(0 0 0 / 8%);
      border-radius: 20px;
      background: rgb(255 255 255 / 85%);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      box-shadow: 
        0 1px 3px rgb(0 0 0 / 4%),
        0 0.5px 1px rgb(0 0 0 / 2%),
        inset 0 1px 0 rgb(255 255 255 / 80%);
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-size: clamp(0.75rem, 1.6vw, 0.85rem);
      font-weight: 600;
      letter-spacing: -0.015em;
      line-height: 1.2;
      color: rgb(0 0 0 / 80%);
      text-shadow: 0 0.5px 0.5px rgb(255 255 255 / 50%);
      margin: 0;
      opacity: 0;
      transform: translateY(15px);
      animation: revealText 0.7s cubic-bezier(0.2, 0.9, 0.2, 1) 0.3s forwards;
      width: fit-content;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

      svg {
        color: rgb(0 0 0 / 65%);
        flex-shrink: 0;
        width: 14px;
        height: 14px;
        stroke-width: 1.5;
      }

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          background: rgb(255 255 255 / 92%);
          border-color: rgb(0 0 0 / 10%);
          box-shadow: 
            0 2px 6px rgb(0 0 0 / 6%),
            0 1px 2px rgb(0 0 0 / 3%),
            inset 0 1px 0 rgb(255 255 255 / 90%);
          transform: translateY(-0.5px);
        }
      }
    }


    .intro-description {
      font-size: clamp(1.1rem, 2.5vw, 1.4rem);
      line-height: 1.6;
      color: rgb(0 0 0 / 85%); /* High contrast for readability */
      margin: 0;
      margin-top: 1em;
      max-width: 65ch; /* Increased to fill more space */
      width: 100%;
    }
  }

  .portfolio-intro-right {
    display: flex;
    flex-direction: column;
    gap: 1.5em;
    align-items: flex-start;

    .intro-social-buttons {
      display: flex;
      gap: 0.75em;
      flex-wrap: wrap;
}

    .pill-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.5em 1.25em;
      border: none;
      border-radius: 20px;
      background: rgb(255 255 255 / 95%);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      color: rgb(0 0 0 / 85%); /* High contrast for readability */
      text-decoration: none;
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-size: 0.875rem;
      font-weight: 500;
      letter-spacing: 0.01em;
      line-height: 1.3;
      box-shadow: 
        0 2px 8px rgb(0 0 0 / 6%),
        0 1px 2px rgb(0 0 0 / 3%);
      transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      cursor: pointer;

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          background: rgb(255 255 255 / 98%);
          box-shadow: 
            0 4px 12px rgb(0 0 0 / 10%),
            0 2px 4px rgb(0 0 0 / 5%);
          transform: translateY(-0.3px);
        }
      }
    }

    .pill-button-primary {
      display: inline-flex;
  align-items: center;
      justify-content: center;
      gap: 0.5em;
      padding: 0.7em 1.4em;
      border: none;
      border-radius: 20px;
      background: map.get($light-colors, danger);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      color: rgb(255 255 255 / 98%);
      text-decoration: none;
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-size: 0.875rem;
      font-weight: 500;
      letter-spacing: 0.01em;
      line-height: 1.3;
      text-shadow: none;
      box-shadow: 
        0 2px 8px rgba(map.get($light-colors, danger), 0.2),
        0 1px 2px rgb(0 0 0 / 3%);
      transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      cursor: pointer;

      svg {
        transition: transform 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          background: map.get($light-colors, danger);
          box-shadow: 
            0 4px 12px rgba(map.get($light-colors, danger), 0.25),
            0 2px 4px rgb(0 0 0 / 5%);
          transform: translateY(-0.5px);
        }

        &:hover svg {
          transform: translateX(1.5px);
        }
      }

      &:active {
        transform: translateY(0px) scale(0.98);
        box-shadow: 
          0 1px 4px rgba(map.get($light-colors, danger), 0.15),
          0 0.5px 1px rgb(0 0 0 / 2%);
      }
    }
  }
}

.dark .portfolio-intro {
  .portfolio-intro-left {
    .intro-name-line {
      .intro-name {
        color: $light-text;
        font-weight: 500;
        font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        letter-spacing: 0.03em;
      }
    }

    .intro-role-line {
      @media (max-width: 480px) {
        font-size: clamp(2.5rem, 11vw, 3.5rem);
      }

      .intro-role {
        color: $light-text; /* Base color, will be filled with accent via scroll animation */
        font-weight: 500;
        font-style: normal;
        font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        text-transform: uppercase;
        font-size: 0.9em;

        @media (max-width: 480px) {
          font-size: 1.1em;
          letter-spacing: 0.04em;
        }
      }
    }

    .intro-location-badge {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      border-color: rgb(255 255 255 / 15%);
      background: rgb(30 30 30 / 75%);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      box-shadow: 
        0 1px 3px rgb(0 0 0 / 30%),
        0 0.5px 1px rgb(0 0 0 / 20%),
        inset 0 1px 0 rgb(255 255 255 / 10%);
        color: rgb(255 255 255 / 98%); /* High contrast for readability in dark mode */
        text-shadow: 0 0.5px 1px rgb(0 0 0 / 20%);

      svg {
        color: rgb(255 255 255 / 80%);
      }

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          background: rgb(35 35 35 / 80%);
          border-color: rgb(255 255 255 / 18%);
          box-shadow: 
            0 2px 6px rgb(0 0 0 / 35%),
            0 1px 2px rgb(0 0 0 / 25%),
            inset 0 1px 0 rgb(255 255 255 / 12%);
        }
      }
    }

    .intro-description {
      color: $light-text;
    }
  }

  .portfolio-intro-right {
    .pill-button {
      border: none;
      background: rgb(30 30 30 / 90%);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      color: rgb(255 255 255 / 98%); /* High contrast for readability in dark mode */
      text-shadow: 0 0.5px 1px rgb(0 0 0 / 20%);
      box-shadow: 
        0 2px 8px rgb(0 0 0 / 25%),
        0 1px 2px rgb(0 0 0 / 15%);

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          background: rgb(35 35 35 / 92%);
          box-shadow: 
            0 4px 12px rgb(0 0 0 / 30%),
            0 2px 4px rgb(0 0 0 / 15%);
        }
      }
    }

    .pill-button-primary {
      border: none;
      background: map.get($dark-colors, danger);
      color: rgb(255 255 255 / 98%);
      text-shadow: 0 0.5px 1px rgb(0 0 0 / 20%);
      box-shadow: 
        0 2px 8px rgba(map.get($dark-colors, danger), 0.2),
        0 1px 2px rgb(0 0 0 / 15%);

      @media (hover: hover) and (pointer: fine) {
        &:hover {
          background: map.get($dark-colors, danger);
          box-shadow: 
            0 4px 12px rgba(map.get($dark-colors, danger), 0.25),
            0 2px 4px rgb(0 0 0 / 20%);
        }
      }
    }

    .pill-button-primary {
      background: $light-text;
      color: rgb(0 0 0 / 85%); /* High contrast for readability */

      &:hover {
        opacity: 0.9;
      }
    }
  }
}
